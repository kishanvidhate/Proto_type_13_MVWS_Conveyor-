<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MVWS Calculator â€“ Inputs Panel</title>
  <style>
    :root{
      --bg:#0f172a;
      --panel:#111827;
      --card:#0b1220;
      --muted:#6b7280;
      --text:#e5e7eb;
      --accent:#06b6d4;
      --ring:#22d3ee;
      --border:#1f2937;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg, #0b1220, #0f172a 40%);color:var(--text);font:16px/1.45 system-ui,Segoe UI,Roboto,Helvetica,Arial}
    .wrap{max-width:1100px;margin:32px auto;padding:0 16px}
    h1{font-weight:700;letter-spacing:.2px;margin:0 0 18px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:22px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
    .card{background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:16px;box-shadow:0 8px 30px rgba(0,0,0,.25)}
    .card h2{margin:0;padding:16px 18px;border-bottom:1px solid var(--border);font-size:15px;color:#cbd5e1;text-transform:uppercase;letter-spacing:.8px}
    .section{padding:16px}
    .field{margin-bottom:14px}
    .label{display:block;margin:0 0 6px;color:#cbd5e1;font-size:13px}
    .input{
      width:100%;
      background:var(--card);
      color:var(--text);
      border:1px solid var(--border);
      outline:0;
      padding:12px 12px;
      border-radius:12px;
      transition:border-color .15s, box-shadow .15s;
    }
    .input:focus{border-color:var(--ring);box-shadow:0 0 0 3px rgba(34,211,238,.18)}
    .subtle{font-size:12px;color:var(--muted);margin-top:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Inputs</h1>

    <div class="grid">
      <div class="card" id="editableCard">
        <h2>Editable Inputs</h2>
        <div class="section" id="editableInputs"></div>
      </div>

      <div class="card" id="advancedCard">
        <h2>Advanced Inputs (If Applicable)</h2>
        <div class="section" id="advancedInputs"></div>
      </div>
    </div>
  </div>

  <script>
    const twoDec = n => (Number.isFinite(+n) ? Number(n).toFixed(2) : n);

    function makeNumberInput({ id, label, value = 0, min = 0, step = 0.01, readonly = false }) {
      const wrap = document.createElement('div');
      wrap.className = 'field';

      const lab = document.createElement('label');
      lab.className = 'label';
      lab.htmlFor = id;
      lab.textContent = label;

      const inp = document.createElement('input');
      inp.className = 'input';
      inp.type = 'number';
      inp.inputMode = 'decimal';
      inp.step = step;
      inp.min = min;
      inp.id = id;
      inp.value = twoDec(value);
      if (readonly) inp.readOnly = true;

      const fmt = () => { if (inp.value !== '') inp.value = twoDec(inp.value); };
      inp.addEventListener('blur', fmt);
      inp.addEventListener('change', fmt);

      wrap.appendChild(lab);
      wrap.appendChild(inp);
      return wrap;
    }

    const editable = [
      { id: 'conv_length_m', label: 'Conveyor Length in meter', value: 172 },
      { id: 'conv_width_m',  label: 'Conveyor Width in meter', value: 0.8 },
      { id: 'conv_no_belt',  label: 'Conveyor No of Belt',     value: 2 }
    ];

    const advanced = [
      { id: 'nozzle_spacing_m',   label: 'The spacing between two spray nozzles shall not exceed 3 m, as per IS:15325-2020 clause 8.7.4.1', value: 3 },
      { id: 'nozzles_per_location', label: 'No of spray nozzles shall consdridited at one location', value: 2 },
      { id: 'system_pressure_bar', label: 'The system pressure shall be 1.4 to 3.5 bar as per IS:15325 clause 8.7.3. For better penetration, 2.1 bar pressure shall be considered at the hydraulically remotest point.', value: 2.10 },
      { id: 'lhs_runs',            label: 'No of Linear Heat Sensing Cable is considered for the conveyor, recommended on three sides: top, left, and right.', value: 3 },
      { id: 'lhs_qty_m',          label: 'Approx. quantity in meters of LHS Cable from conveyor to deluge valve control panel', value: 18, readonly: false },
      { id: 'dv_to_main_m',       label: 'Distance from deluge valve to main hydrant line in meters', value: 18 }
    ];

    const editableHost = document.getElementById('editableInputs');
    const advancedHost = document.getElementById('advancedInputs');

    editable.forEach(cfg => editableHost.appendChild(makeNumberInput(cfg)));
    advanced.forEach(cfg => advancedHost.appendChild(makeNumberInput(cfg)));

    window.MVWSInputs = {
      get(id){ const el = document.getElementById(id); return el ? parseFloat(el.value) : undefined; },
      set(id,v){ const el = document.getElementById(id); if(el){ el.value = twoDec(v); el.dispatchEvent(new Event('change')); } }
    };
  </script>
</body>
</html>